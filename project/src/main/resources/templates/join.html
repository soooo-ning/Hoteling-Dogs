<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title th:text="|${pageName}|"></title>
	<link rel="stylesheet" th:href="@{/css/scroll.css}">
	<link rel="stylesheet" th:href="@{/css/nav_보현.css}">
	<link rel="stylesheet" th:href="@{/css/join.css}">
	<!-- Bootstrap CSS CDN -->
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
	<!-- Bootstrap Icons CDN -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
	<!-- Bootstrap Date Range Picker CSS -->
	<link href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" rel="stylesheet">
	<!-- Ajax -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
<div class="header">
<!-- 네비게이션 바 -->
<nav class="navbar">
<div class="navbar-container">
    <!-- 로고 -->
    <a class="navbar-brand" th:href="@{/security-login}"><img id="logoImage" src="/images/hotel_logo.png" width="100px"></a>
    
        <!-- 검색창 -->
        <div class="search-container">
            <form th:action="@{/security-login/hotelList}" method="get" onsubmit="return redirectToSearch()">
                <div class="navbar-search">
                    <input id="searchInput" class="form-control me-2" type="search" name="keyword"
                        placeholder="여행지나 숙소를 검색해 보세요!" onfocus="toggleSearchForm()">
                    <input type="text" id="dateRangePicker" name="daterange" class="form-control"
                        placeholder="체크인 - 체크아웃">
                    
                    <div class="dropdown">
                        <!-- 네비게이션 바에 강아지 마리 수 표시할 요소 추가 -->
                        <button class="btn btn-outline-secondary" type="button" onclick="toggleDogDropdown()">강아지</button>

                        <div id="dogDropdown" class="dropdown-content">
                            <div class="input-group mb-3">
                                <span class="input-group-text" id="dogWeight1Label">S</span>
                                <button class="btn btn-outline-secondary" type="button"
                                    onclick="decrement('dogWeight1')">-</button>
                                <input type="number" class="form-control" id="dogWeight1" value="0" min="0"
                                    aria-label="1-6kg" aria-describedby="dogWeight1Label" readonly>
                                <button class="btn btn-outline-secondary" type="button"
                                    onclick="increment('dogWeight1')">+</button>
                            </div>

                            <div class="input-group mb-3">
                                <span class="input-group-text" id="dogWeight2Label">M</span>
                                <button class="btn btn-outline-secondary" type="button"
                                    onclick="decrement('dogWeight2')">-</button>
                                <input type="number" class="form-control" id="dogWeight2" value="0" min="0"
                                    aria-label="7-12kg" aria-describedby="dogWeight2Label" readonly>
                                <button class="btn btn-outline-secondary" type="button"
                                    onclick="increment('dogWeight2')">+</button>
                            </div>

                            <div class="input-group mb-3">
                                <span class="input-group-text" id="dogWeight3Label">L</span>
                                <button class="btn btn-outline-secondary" type="button"
                                    onclick="decrement('dogWeight3')">-</button>
                                <input type="number" class="form-control" id="dogWeight3" value="0" min="0"
                                    aria-label="13-20kg" aria-describedby="dogWeight3Label" readonly>
                                <button class="btn btn-outline-secondary" type="button"
                                    onclick="increment('dogWeight3')">+</button>
                            </div>

                            <button class="btn btn-outline-primary" type="button" onclick="applyDogSelection()">적용</button>
                            <button class="btn btn-outline-secondary" type="button" onclick="resetDogSelection()">초기화</button>
                        </div>

                        <div class="search-button">
                            <button type="submit" class="btn btn-outline-success">검색</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    
    <!-- 사용자 정보와 메뉴 -->
    <div class="navbar-menu">
        <div th:if="${uId == null}">
            <a class="btn btn-link btn-sm" th:href="@{/security-login/login}" role="button"
                style="font-size: 0.8rem; color: black;">로그인</a>
            <a class="btn btn-link btn-sm" th:href="@{/security-login/join}" role="button"
                style="font-size: 0.8rem; color: black;">회원가입</a>
        </div>
        <div th:unless="${uId == null}">
            <span>[[${uName}]]님 환영합니다!</span>
        </div>
    </div>

    <!-- Menu 드롭다운 버튼 -->
    <div class="button-dropdown">
        <button type="button" class="btn btn-link btn-sm" id="menuDropdown" onclick="toggleMenuDropdown()">
            <i class="bi bi-list" style="font-size: 30px;"></i>
        </button>
        <div id="menuDropdownContent" class="dropdown-content">
            <a href="#" onclick="focusSearchBar(); return false;" class="dropdown-item">Dog Hotel</a>
            <a th:href="@{/eventlist}" class="dropdown-item">Event</a>
            <a th:href="@{/security-login/info}" class="dropdown-item">My Page</a>
            <!-- 로그인 한 경우에만 로그아웃 버튼 표시 -->
            <div th:if="${uId != null}">
                <a th:href="@{/security-login/logout}" class="dropdown-item">Logout</a>
            </div>
            <!-- 로그인 안 한 경우에 로그인 버튼 표시 -->
            <div th:unless="${uId != null}">
                <a th:href="@{/security-login/login}" class="dropdown-item">Login</a>
            </div>
        </div>
    </div>
</div>
</nav>
<!-- 네비게이션 바의 높이만큼 여백을 주어 콘텐츠가 네비게이션 바 아래에 위치하도록 함 -->
	<div style="height: 60px;"></div> 
</div>

<!-- body -->
<div class="container">
	<div class="container-content">
        <h1><a th:href="@{'/' + ${loginType}}" class="text-decoration-none">회원가입</a></h1>
        <hr />
        <form th:method="post" th:action="@{'/' + ${loginType} + '/join'}" th:object="${joinRequest}">
            <div class="form-section">
                <label th:for="uId" class="form-label">아이디 </label>
                <input type="text" th:field="*{uId}" class="form-input" th:errorclass="error-input" placeholder="아이디를 입력해주세요" />
                <div class="error-class" th:errors="*{uId}"></div>
            </div>
            <div class="form-section">
                <label th:for="uPw" class="form-label">비밀번호 </label>
                <input type="password" th:field="*{uPw}" class="form-input" th:errorclass="error-input" placeholder="8자리이상 입력해주세요"/>
                <div class="error-class" th:errors="*{uPw}"></div>
            </div>
            <div class="form-section">
                <label th:for="uPwCheck" class="form-label">비밀번호 확인 </label>
                <input type="password" th:field="*{uPwCheck}" class="form-input" th:errorclass="error-input" placeholder="8자리이상 입력해주세요" />
                <div class="error-class" th:errors="*{uPwCheck}"></div>
            </div>
            <div class="form-section">
                <label th:for="uName" class="form-label">이름 </label>
                <input type="text" th:field="*{uName}" class="form-input" th:errorclass="error-input" placeholder="이름입력"/>
                <div class="error-class" th:errors="*{uName}"></div>
            </div>
            <div class="form-section">
                <label th:for="uSsn" class="form-label">생년월일</label>
                <input type="text" th:field="*{uSsn}" class="form-input" id="uSsnInput" th:errorclass ="error-input" maxlength="8" placeholder="YYYYMMDD"/>
                <div class="error-class" th:errors="*{uSsn}"></div>
            </div>
            <div class="form-section">
                <label th:for="uPhoneNum" class="form-label">전화번호</label>
                <input type="text" th:field="*{uPhoneNum}" class="form-input" th:errorclass="error-input" placeholder="'-'빼고 숫자만 입력해주세요" />
                <div class="error-class" th:errors="*{uPhoneNum}"></div>
            </div>
		    <div class="form-section">
				<label th:for="uEmail" class="form-label">이메일</label>
                <input type="email" class="form-input" id="uEmail" name="uEmail" th:field="*{uEmail}" />
                <button type="button" onclick="sendNumber()" class="btn btn-outline-secondary">이메일 인증 코드 전송</button>
			</div>
			<div class="form-section">
                <div id="verification-section" style="display:none;">
                    <label for="emailCode" class="form-label">인증 코드</label>
                    <input type="text" class="form-input" id="emailCode" name="emailCode" placeholder="인증번호를 입력하세요."/>
                    <button type="button" onclick="confirmNumber()" class="btn btn-outline-secondary">확인</button>
             </div>
		    <div class="error-class"></div>
		    </div>
		    <div id="dog-info-container"></div>
            <div class="form-section text-center">
                <button type="button" class="btn btn-outline-secondary" id="addDogInfoButton"> + 강아지 정보 추가</button>
            </div>
            <div class="text-center">
                <button type="submit" class="btn btn-dark">회원 가입</button>
            </div>
        </form>
</div>
</div>
	<!-- 스크롤 업-->
	<div>
		<i class="bi bi-arrow-up-square-fill" id="scrollUpIcon"></i>
	</div>
	<div th:replace="footer :: footer"></div>

	<!-- jQuery (필수) -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<!-- Bootstrap JS and dependencies -->
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<!-- Moment.js (필수) -->
	<script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
	<!-- Bootstrap Date Range Picker JS -->
	<script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
	<!-- 스크립트 -->
	<script th:src="@{/js/nav_보현.js}" type="text/javascript"></script>
	<script th:src="@{/js/scroll.js}" type="text/javascript"></script>
	<script th:src="@{/js/join.js}" type="text/javascript"></script>
</body>

</html>
