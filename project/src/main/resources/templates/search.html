<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>호텔 검색</title>
	<link rel="stylesheet" th:href="@{/css/nav.css}">
	<link rel="stylesheet" th:href="@{/css/scroll.css}">
	<link rel="stylesheet" th:href="@{/css/reservation_list.css}">
	
	<!-- Bootstrap CSS CDN -->
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Bootstrap Icons CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
	<!-- Bootstrap Date Range Picker CSS -->
	<link href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" rel="stylesheet">
</head>
<style>
	.container{
		margin-top: 100px;
	}
</style>

	<body>
	<div class="header">
	<!-- 네비게이션 바 -->
	<nav class="navbar">
	<div class="navbar-container">
    <!-- 로고 -->
    <a class="navbar-brand" th:href="@{/security-login}"><img src="/images/hotel_logo.png" width="100px"></a>

    <!-- 검색창 -->
    <div class="search-container">
        <form th:action="@{/security-login/search}" method="get">
            <div class="navbar-search">
                <input id="searchInput" class="form-control me-2" type="search" name="keyword"
                    placeholder="여행지나 숙소를 검색해보세요" onfocus="toggleSearchForm()"/>
                <input type="text" id="dateRangePicker" name="daterange" class="form-control"
                    placeholder="체크인 - 체크아웃"/>


                <div class="dropdown">
                    <button class="btn btn-outline-secondary" type="button"
                        onclick="toggleDogDropdown()">강아지</button>
                    <div id="dogDropdown" class="dropdown-content">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="dogWeight1Label">S</span>
                            <button class="btn btn-outline-secondary" type="button"
                                onclick="decrement('dogWeight1')">-</button>
                            <input type="number" class="form-control" id="dogWeight1" value="0" min="0"
                                aria-label="1-6kg" aria-describedby="dogWeight1Label" readonly>
                            <button class="btn btn-outline-secondary" type="button"
                                onclick="increment('dogWeight1')">+</button>
                        </div>

                        <div class="input-group mb-3">
                            <span class="input-group-text" id="dogWeight2Label">M</span>
                            <button class="btn btn-outline-secondary" type="button"
                                onclick="decrement('dogWeight2')">-</button>
                            <input type="number" class="form-control" id="dogWeight2" value="0" min="0"
                                aria-label="7-12kg" aria-describedby="dogWeight2Label" readonly>
                            <button class="btn btn-outline-secondary" type="button"
                                onclick="increment('dogWeight2')">+</button>
                        </div>

                        <div class="input-group mb-3">
                            <span class="input-group-text" id="dogWeight3Label">L</span>
                            <button class="btn btn-outline-secondary" type="button"
                                onclick="decrement('dogWeight3')">-</button>
                            <input type="number" class="form-control" id="dogWeight3" value="0" min="0"
                                aria-label="13-20kg" aria-describedby="dogWeight3Label" readonly>
                            <button class="btn btn-outline-secondary" type="button"
                                onclick="increment('dogWeight3')">+</button>
                        </div>

                    </div>
                    <div class="search-button">
                        <button type="submit" th:action="@{/security-login/search}"
                            class="btn btn-outline-success">검색</button>
                    </div>
	            </form>
	        </div>
	    </div>
	    </div>
	    <!-- 사용자 정보와 메뉴 -->
	    <div class="navbar-menu">
	        <div th:if="${uId == null}">
	            <a class="btn btn-link btn-sm" th:href="@{/security-login/login}" role="button"
	                style="font-size: 0.8rem;">로그인</a>
	            <a class="btn btn-link btn-sm" th:href="@{/security-login/join}" role="button"
	                style="font-size: 0.8rem;">회원가입</a>
	        </div>
	        <div th:unless="${uId == null}">
	            <span>[[${uName}]]님 환영합니다!</span>
	        </div>
	    </div>
	    <!-- Menu 드롭다운 버튼 -->
	    <div class="button-dropdown">
	        <button type="button" class="btn btn-link btn-sm" id="menuDropdown" onclick="toggleMenuDropdown()">
	            <!-- 여기서 <i class="bi bi-list"></i> 대신 SVG를 사용 -->
	            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
	                <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
	            </svg>
	        </button>
	        <div id="menuDropdownContent" class="dropdown-content">
	            <a th:href="@{/security-login/reservation}" class="dropdown-item">Reservation</a>
	            <a th:href="@{eventlist}" class="dropdown-item">Event</a>
	            <a th:href="@{/security-login/info}" class="dropdown-item">My Page</a>
	            <a th:href="@{/security-login/logout}" class="dropdown-item">로그아웃</a>
	        </div>
	    </div>
	    </div>
	</nav>
	<!-- 네비게이션 바의 높이만큼 여백을 주어 콘텐츠가 네비게이션 바 아래에 위치하도록 함 -->
		<div style="height: 60px;"></div> 
	</div>

	<!-- body -->
		<div class="container">
		    <h2 th:if="${keyword == null or keyword.isEmpty()}">전체 호텔 리스트</h2>
		    <h3 th:unless="${keyword == null or keyword.isEmpty()}" th:text="${keyword}+' 검색 결과'"></h3>
		    
		    <!-- 검색 결과가 없는 경우 -->
		    <div th:if="${hotels == null || hotels.size() == 0}">
		        <p>검색 결과가 없습니다. 다른 키워드로 검색해 주세요.</p>
		    </div>

		    <!-- 검색 결과가 있는 경우 -->
		    <div th:if="${hotels != null && hotels.size() > 0}">
		        <ul class="hotel-list">
		            <li class="hotel-item" th:each="hotel : ${hotels}">
		                <img src="/images/hotel.jpg" alt="Hotel Image">
		                <div class="hotel-details">
		                    <div class="hotel-name" th:text="${hotel.name}">호텔 이름</div>
		                    <div class="hotel-info" th:text="${hotel.info}">호텔 상세 설명</div>
		                    <div class="hotel-location" th:text="${hotel.location}">호텔 위치</div>
		                    <div class="hotel-description" th:text="${hotel.description}">호텔 설명</div>
		                    <div class="hotel-price" th:text="${hotel.price} + ' per night'">$120 per night</div>
		                </div>
		            </li>
		        </ul>
		    </div>
		</div>
		<!-- 스크롤 업-->
		<div>
			<i class="bi bi-arrow-up-square-fill" id="scrollUpIcon"></i>
		</div>
		<div th:replace="footer :: footer"></div>
		<!-- jQuery (필수) -->
		<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
		<!-- Bootstrap JS and dependencies -->
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
		<!-- Moment.js (필수) -->
		<script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
		<!-- Bootstrap Date Range Picker JS -->
		<script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
		<!-- 스크립트 -->
		<script th:src="@{/js/nav.js}" type="text/javascript"></script>
		<script th:src="@{/js/scroll.js}" type="text/javascript"></script>
		</body>
</html>