<!DOCTYPE html>
<html lang="ko">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="|${pageName}|"></title>
	<!-- CSS 파일 링크 -->
	<link rel="stylesheet" th:href="@{/css/scroll.css}">
	<link rel="stylesheet" th:href="@{/css/hotel_list.css}">
	<link rel="stylesheet" th:href="@{/css/nav.css}">
	<!-- Bootstrap CSS CDN -->
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
	<!-- Bootstrap Icons CDN -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
	<!-- Bootstrap Date Range Picker CSS -->
	<link href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
<div class="header">
<!-- 네비게이션 바 -->
<div th:insert="~{nav :: nav}"></div>
<!-- 네비게이션 바의 높이만큼 여백을 주어 콘텐츠가 네비게이션 바 아래에 위치하도록 함 -->
	<div style="height: 60px;"></div> 
</div>

<!-- body -->
<!-- Main Content -->
<div class="content">
		<div class="filter">
			<select id="filter" onchange="filterHotels()">
			    <option value="recommended">추천순</option>
			    <option value="most_reviews">리뷰 많은 순</option>
			    <option value="price_asc">가격 낮은 순</option>
			    <option value="price_desc">가격 높은 순</option>
			</select>
			</div>
			<div class="countlist">
			<h2 th:if="${keyword == null or keyword.isEmpty()}">
			    전체 호텔 리스트 
			    <span th:text="${hotelList.size()} + '개'"></span>
			</h2>
			<h3 th:unless="${keyword == null or keyword.isEmpty()}">
			    <span th:text="${keyword} + ' 검색 결과: '"></span>
			    <span th:text="${hotelList.size()} + '개'"></span>
			</h3>
			</div>
		<ul class="hotel-list">
	    <li th:each="hotel : ${hotelList}" class="hotel-item">
			<img th:src="@{/images/{imageName}(imageName=${hotel.getMainImage() != null ? hotel.getMainImage().getImageUrl() : 'default.jpg'})}" alt="Hotel Image">
	        <div class="hotel-details">
			<div class="hotel-name" th:text="${hotel?.hotelName}">Hotel Name</div>
			<div class="hotel-info" th:text="${hotel?.location}">hotels location</div>
			<div class="hotel-info" th:text="${hotel?.content}">Detailed info about the hotel.</div>

			<!-- 예약 가능한 방 리스트 표시 -->
			<div th:each="room : ${availableRooms}">
			    <div class="room-info">
			        <span th:text="${room.formattedPrice()}">0원/박</span>
			        <span th:text="${room.availableRooms}">Available Rooms</span>
					<span th:text="${room.date}">Available Rooms</span>
					<span th:text="${room.dogType}">Available Rooms</span>
			    </div>
			</div>
			<button class="heart-button" th:data-hotel-id="${hotel?.hotelId}" onclick="toggleWishlist(this, '${hotel.hotelId}')">
				    <i class="fa fa-heart"></i>
				</button>
			  </div>
	    </li>
	</ul>

</div>

<div class="pagination">
    <ul>
		<!-- 처음으로 버튼 
		       <li th:if="${currentPage > 0}">
		           <a th:href="@{/hotelList(page=0)}">처음으로</a>
		       </li>-->
        <!-- 이전 버튼 -->
        <li >
            <a th:href="@{/hotelAllList(page=${currentPage - 1})}">
				<i class="bi bi-chevron-double-left"></i>
			</a>
        </li>
        
        <!-- 페이지 번호 목록 -->
        <li th:each="i : ${#numbers.sequence(startPage, endPage)}">
            <a th:classappend="${currentPage == i} ? 'active'" th:href="@{/hotelAllList(page=${i})}" th:text="${i + 1}">1</a>
        </li>

        <!-- 다음 버튼 -->
        <li th:if="${currentPage < totalPages - 1}">
            <a th:href="@{/hotelAllList(page=${currentPage + 1})}">
				<i class="bi bi-chevron-double-right"></i></a>
        </li>
		
    </ul>
</div>
<!--
 호텔 리스트 
<div class="container mt-4">
	<div class="hotel-list">
		<div th:each="hotel : ${hotelList}" class="hotel-item">
			<img th:src="${hotel.getMainImage() != null ? hotel.getMainImage().getImageUrl() : '#'}" alt="Hotel Image">
			<div class="hotel-details">
				<div class="hotel-name" th:text="${hotel.hotelName}">Hotel Name</div>
				<div class="hotel-info" th:text="${hotel.content}">Detailed info about the hotel.</div>
				<div class="hotel-price" th:text="${hotel.getFormattedPricePerNight()}">0원/박</div>
				<button class="heart-button" th:data-hotel-id="${hotel.hotelId}"
					th:attr="onclick=|toggleWishlist(${hotel.hotelId})|">
					<i class="fa fa-heart"></i>
				</button>
			</div>
		</div>
	</div>
</div>-->
<!-- 스크롤 업-->
<div>
	<i class="bi bi-arrow-up-square-fill" id="scrollUpIcon"></i>
</div>
<div th:replace="~{footer :: footer}"></div>
	<!-- jQuery (필수) -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<!-- Bootstrap JS and dependencies -->
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<!-- Moment.js (필수) -->
	<script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
	<!-- Bootstrap Date Range Picker JS -->
	<script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
	<!-- 스크립트 -->
	<script th:src="@{/js/scroll.js}" type="text/javascript"></script>
	<script th:src="@{/js/nav.js}" type="text/javascript"></script>
	<script th:src="@{/js/hotel_list.js}" type="text/javascript"></script>
</body>
</html>
